(window.webpackJsonp=window.webpackJsonp||[]).push([[21,5,7,9],{271:function(t,e,n){t.exports=n.p+"img/desk-card.e5070fb.jpg"},276:function(t,e,n){var content=n(291);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("3c3556e0",content,!0,{sourceMap:!1})},289:function(t,e,n){var content=n(311);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("ba670638",content,!0,{sourceMap:!1})},290:function(t,e,n){"use strict";n(276)},291:function(t,e,n){var o=n(67)(!1);o.push([t.i,".buttons{display:flex;margin-top:12px}.rd{text-align:center}.deskCard{background-color:#d4ad76;padding:8px;border-radius:8px;transition:all .3s ease-in;min-height:430px}.link{text-decoration:none;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.btnD{display:block;padding:8px 12px;font-weight:600;background-color:transparent;color:#fff;border:1px solid #fff;cursor:pointer;font-size:14px;margin:0 auto 12px}.available,.price{color:#fff;font-weight:700}.content{padding:8px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}.content>p{margin-bottom:14px;color:#fff}.content>p>span{text-decoration:underline}.cardDesc{margin-top:20px}.free,.size{font-weight:700}.imageContainer>img{width:100%;height:220px}.isTaken{cursor:default;position:relative;opacity:.5}.red{color:#ed5454}.content .green{color:#3c913c}",""]),t.exports=o},292:function(t,e,n){var content=n(313);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("7b89b854",content,!0,{sourceMap:!1})},295:function(t,e,n){"use strict";n.r(e);var o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"imageContainer"},[e("img",{attrs:{src:n(271),alt:"desk"}})])}],r=(n(110),{props:["desk","room"],data:function(){return{showForm:!1}},methods:{handleNavigate:function(){this.$router.push("/rooms/".concat(this.room._id,"/desks/").concat(this.desk._id))},handleShowForm:function(){this.$store.commit("desks/selectDeskToRent",this.desk),this.$emit("showForm")}},computed:{currentUser:function(){return this.$store.state.currentUser},showLink:function(){return this.desk.rentedBy===this.currentUser.email||"admin"===this.currentUser.role||this.room.manager===this.currentUser.email}}}),d=(n(290),n(33)),component=Object(d.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deskCard",class:t.desk.isTaken&&t.desk.rentedBy!==t.currentUser.email&&"admin"!==t.currentUser.role&&t.room.manager!==t.currentUser.email?"isTaken":""},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("p",{staticClass:"size"},[t._v("Size: "),n("span",[t._v(t._s(t.desk.size))])]),t._v(" "),n("p",{staticClass:"free"},[t._v("Position: "),n("span",[t._v(t._s(t.desk.position))])]),t._v(" "),n("p",{staticClass:"price"},[t._v("Price: "),n("span",[t._v("$"+t._s(t.desk.price)+" per week")])]),t._v(" "),t.desk.rentedBy===t.currentUser.email?n("p",{staticClass:"price green rd"},[t._v("You rent this desk!")]):n("p",{staticClass:"available"},[t._v("Available: "),n("span",{class:t.desk.isTaken?"red":"green"},[t._v(t._s(t.desk.isTaken?t.desk.freeOn:"Yes"))])]),t._v(" "),n("div",{staticClass:"buttons"},[t.desk.isTaken?t._e():n("button",{staticClass:"btnD",on:{click:t.handleShowForm}},[t._v("Rent")]),t._v(" "),t.showLink?n("NuxtLink",{staticClass:"btnD link",attrs:{to:"desks/"+t.desk._id}},[t._v("Desk Details")]):t._e()],1)])])}),o,!1,null,null,null);e.default=component.exports},310:function(t,e,n){"use strict";n(289)},311:function(t,e,n){var o=n(67)(!1);o.push([t.i,".grid[data-v-bbfd6ba4]{grid-template-columns:1fr 1fr 1fr;display:grid;padding:20px;grid-gap:30px;gap:30px}.h[data-v-bbfd6ba4]{font-size:31px;font-weight:500;color:#d4ad76;text-align:center;margin-bottom:20px}",""]),t.exports=o},312:function(t,e,n){"use strict";n(292)},313:function(t,e,n){var o=n(67)(!1);o.push([t.i,".yesIcon[data-v-78788da6]{padding:8px 16px;font-size:28px;border-radius:50%;background-color:green;color:#fff}.deskLink[data-v-78788da6]{text-decoration:none;color:#9a2cfb}.success[data-v-78788da6]{font-size:20px;color:#fff;margin-top:20px;margin-bottom:15px}.successDiv[data-v-78788da6]{text-align:center;position:relative;top:50%;left:50%;transform:translate(-50%,-50%)}.heading[data-v-78788da6]{text-align:center;color:#fff;font-size:18px;font-weight:600;margin-bottom:12px}.container[data-v-78788da6]{padding:10px 20px;height:220px;width:100%;border:1px solid #fff;border-radius:10px;margin-bottom:10px;position:relative}.container>button[data-v-78788da6]{color:#26261e;background-color:#fff;border:1px solid #fff;font-weight:600;cursor:pointer;display:block;margin:20px auto 0}.duration[data-v-78788da6]{display:flex}.duration[data-v-78788da6],.p[data-v-78788da6]{color:#fff;font-size:13px;margin-bottom:12px}",""]),t.exports=o},323:function(t,e,n){var content=n(350);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("44a5159f",content,!0,{sourceMap:!1})},332:function(t,e,n){"use strict";n.r(e);n(137),n(111),n(13),n(26);var o={data:function(){return{}},computed:{room:function(){var t=Number(this.$route.params.roomId),e=this.$store.state.rooms.rooms.find((function(e){return e._id===t}));return e},desks:function(){var t=this,e=[];return this.room.deskIds.forEach((function(n){var o=t.$store.state.desks.desks.find((function(t){return t._id===n}));e.push(o)})),e}},methods:{handleShowForm:function(){this.$emit("showForm")}}},r=(n(310),n(33)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"h"},[t._v(t._s(t.room.name))]),t._v(" "),n("div",{staticClass:"grid"},t._l(t.desks,(function(e){return n("div",{staticClass:"cell"},[n("DeskCard",{attrs:{room:t.room,desk:e},on:{showForm:t.handleShowForm}})],1)})),0)])}),[],!1,null,"bbfd6ba4",null);e.default=component.exports;installComponents(component,{DeskCard:n(295).default})},333:function(t,e,n){"use strict";n.r(e);n(110),n(137),n(85);var o={data:function(){return{selectedDuration:"1",deskRented:!1}},computed:{desk:function(){return this.$store.state.desks.selectedDeskToRent},location:function(){return console.log(this.desk),"Room ".concat(this.$route.params.roomId," -> Desk ").concat(this.desk._id)},amount:function(){return Number(this.desk.price)*Number(this.selectedDuration)},currentUser:function(){return this.$store.state.currentUser}},methods:{click:function(t){this.amountT=Number(this.desk.price)*Number(t.target.value)},rentDeskHandler:function(t){var e=this;this.$store.commit("desks/rentDesk",[this.desk._id,this.currentUser.email,this.selectedDuration]),this.$store.commit("rooms/rentDesk",[this.desk.roomId,this.desk._id]),this.$store.commit("addRentedDesk",this.desk._id),this.deskRented=!0,setInterval((function(){e.deskRented=!1}),300)}}},r=(n(312),n(33)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.deskRented||t.desk.isTaken?n("div",{staticClass:"successDiv"},[t._m(0),t._v(" "),n("p",{staticClass:"success"},[t._v("Desk rented successfully!")]),t._v(" "),n("NuxtLink",{staticClass:"deskLink",attrs:{to:"desks/"+t.desk._id}},[t._v("See desk")])],1):n("div",[n("h3",{staticClass:"heading"},[t._v("Rent Desk")]),t._v(" "),n("p",{staticClass:"p"},[t._v("Location: "+t._s(t.location))]),t._v(" "),n("p",{staticClass:"p"},[t._v("Size: "+t._s(t.desk.size))]),t._v(" "),n("p",{staticClass:"p"},[t._v("Position: "+t._s(t.desk.position))]),t._v(" "),n("div",{staticClass:"duration"},[n("p",[t._v("Duration:")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDuration,expression:"selectedDuration"}],attrs:{name:"",id:""},on:{click:t.click,change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedDuration=e.target.multiple?n:n[0]}}},[n("option",{attrs:{selected:"",disabled:"",value:"0"}},[t._v("Select duration")]),t._v(" "),n("option",{attrs:{value:"1"}},[t._v("1 week")]),t._v(" "),n("option",{attrs:{value:"2"}},[t._v("2 weeks")]),t._v(" "),n("option",{attrs:{value:"3"}},[t._v("3 weeks")]),t._v(" "),n("option",{attrs:{value:"4"}},[t._v("4 weeks")])])]),t._v(" "),n("p",{staticClass:"p"},[t._v("Amount to pay: $"+t._s(t.amount))]),t._v(" "),n("button",{on:{click:t.rentDeskHandler}},[t._v("Rent Desk")])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"yesIcon"},[e("i",{staticClass:"fa-solid fa-check"})])}],!1,null,"78788da6",null);e.default=component.exports},349:function(t,e,n){"use strict";n(323)},350:function(t,e,n){var o=n(67)(!1);o.push([t.i,".wrapper[data-v-4939ba4e]{background:#26261e;display:flex;padding:20px}.gridContainer[data-v-4939ba4e]{width:75%;display:flex;flex-direction:column}.heading[data-v-4939ba4e]{font-size:31px;font-weight:500;color:#d4ad76;text-align:center;margin-bottom:7px}.userInfo[data-v-4939ba4e]{width:25%;position:-webkit-sticky;position:sticky;top:60px;align-self:baseline}.bg[data-v-4939ba4e]{position:absolute;top:0;left:0;right:0;bottom:0;background:#26261e;z-index:-100}",""]),t.exports=o},364:function(t,e,n){"use strict";n.r(e);var o={data:function(){return{showForm:!1}},methods:{handleShowForm:function(){this.showForm=!0}},middleware:"auth"},r=(n(349),n(33)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"gridContainer"},[n("h1",{staticClass:"heading"},[t._v("Available Desks")]),t._v(" "),n("p"),t._v(" "),n("DesksGrid",{on:{showForm:t.handleShowForm}})],1),t._v(" "),n("div",{staticClass:"userInfo"},[t.showForm?n("RentDeskForm"):t._e()],1),t._v(" "),n("div",{staticClass:"bg"})])}),[],!1,null,"4939ba4e",null);e.default=component.exports;installComponents(component,{DesksGrid:n(332).default,RentDeskForm:n(333).default})}}]);